{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\chunyu\\\\PC\\\\Desktop\\\\side_project_MERN_system\\\\client\\\\src\\\\components\\\\editCourse-component.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport CourseService from \"../services/course.service\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst EditCourseComponent = props => {\n  _s();\n\n  let {\n    currentUser,\n    setCurrentUser\n  } = props;\n  let {\n    title,\n    setTitle\n  } = props;\n  let {\n    description,\n    setDescription\n  } = props;\n  let {\n    price,\n    setPrice\n  } = props;\n  let [message, setMessage] = useState(\"\");\n  const history = useHistory();\n\n  const handleTakeToLogin = () => {\n    history.push(\"/login\");\n  };\n\n  const handleChangeTitle = e => {\n    setTitle(e.target.value);\n  };\n\n  const handleChangeDesciption = e => {\n    setDescription(e.target.value);\n  };\n\n  const handleChangePrice = e => {\n    setPrice(e.target.value);\n  };\n\n  const editCourse = () => {\n    CourseService.edit(title, description, price).then(() => {\n      window.alert(\"New course has been created.\");\n      history.push(\"/course\");\n    }).catch(error => {\n      console.log(error.response);\n      setMessage(error.response.data);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: \"3rem\"\n    },\n    children: [!currentUser && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"You must login first before posting a new course.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary btn-lg\",\n        onClick: handleTakeToLogin,\n        children: \"Take me to login page.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }, this), currentUser && currentUser.user.role !== \"mentor\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Only mentors can post new courses.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this), currentUser && currentUser.user.role == \"mentor\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        for: \"exampleforTitle\",\n        children: \"Title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"title\",\n        type: \"text\",\n        className: \"form-control\",\n        id: \"exampleforTitle\",\n        onChange: handleChangeTitle,\n        value: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        for: \"exampleforContent\",\n        children: \"Content\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        className: \"form-control\",\n        id: \"exampleforContent\",\n        \"aria-describedby\": \"emailHelp\",\n        name: \"content\",\n        onChange: handleChangeDesciption\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        for: \"exampleforPrice\",\n        children: \"Price\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"price\",\n        type: \"number\",\n        className: \"form-control\",\n        id: \"exampleforPrice\",\n        onChange: handleChangePrice\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: editCourse,\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-warning\",\n        role: \"alert\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n};\n\n_s(EditCourseComponent, \"wY69IDJZqe0XptXYyUXms16a2nA=\", false, function () {\n  return [useHistory];\n});\n\n_c = EditCourseComponent;\nexport default EditCourseComponent;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditCourseComponent\");","map":{"version":3,"sources":["C:/Users/chunyu/PC/Desktop/side_project_MERN_system/client/src/components/editCourse-component.js"],"names":["React","useState","useHistory","CourseService","EditCourseComponent","props","currentUser","setCurrentUser","title","setTitle","description","setDescription","price","setPrice","message","setMessage","history","handleTakeToLogin","push","handleChangeTitle","e","target","value","handleChangeDesciption","handleChangePrice","editCourse","edit","then","window","alert","catch","error","console","log","response","data","padding","user","role"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport CourseService from \"../services/course.service\";\r\n\r\nconst EditCourseComponent = (props) => {\r\n  let { currentUser, setCurrentUser } = props;\r\n  let { title, setTitle } = props;\r\n  let { description, setDescription } = props;\r\n  let { price, setPrice } = props;\r\n\r\n  let [message, setMessage] = useState(\"\");\r\n  const history = useHistory();\r\n  const handleTakeToLogin = () => {\r\n    history.push(\"/login\");\r\n  };\r\n  const handleChangeTitle = (e) => {\r\n    setTitle(e.target.value);\r\n  };\r\n  const handleChangeDesciption = (e) => {\r\n    setDescription(e.target.value);\r\n  };\r\n  const handleChangePrice = (e) => {\r\n    setPrice(e.target.value);\r\n  };\r\n  const editCourse = () => {\r\n    CourseService.edit(title, description, price)\r\n      .then(() => {\r\n        window.alert(\"New course has been created.\");\r\n        history.push(\"/course\");\r\n      })\r\n      .catch((error) => {\r\n        console.log(error.response);\r\n        setMessage(error.response.data);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: \"3rem\" }}>\r\n      {!currentUser && (\r\n        <div>\r\n          <p>You must login first before posting a new course.</p>\r\n          <button\r\n            className=\"btn btn-primary btn-lg\"\r\n            onClick={handleTakeToLogin}\r\n          >\r\n            Take me to login page.\r\n          </button>\r\n        </div>\r\n      )}\r\n      {currentUser && currentUser.user.role !== \"mentor\" && (\r\n        <div>\r\n          <p>Only mentors can post new courses.</p>\r\n        </div>\r\n      )}\r\n      {currentUser && currentUser.user.role == \"mentor\" && (\r\n        <div className=\"form-group\">\r\n          <label for=\"exampleforTitle\">Title</label>\r\n          <input\r\n            name=\"title\"\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            id=\"exampleforTitle\"\r\n            onChange={handleChangeTitle}\r\n            value={title}\r\n          />\r\n          <br />\r\n          <label for=\"exampleforContent\">Content</label>\r\n          <textarea\r\n            className=\"form-control\"\r\n            id=\"exampleforContent\"\r\n            aria-describedby=\"emailHelp\"\r\n            name=\"content\"\r\n            onChange={handleChangeDesciption}\r\n          />\r\n          <br />\r\n          <label for=\"exampleforPrice\">Price</label>\r\n          <input\r\n            name=\"price\"\r\n            type=\"number\"\r\n            className=\"form-control\"\r\n            id=\"exampleforPrice\"\r\n            onChange={handleChangePrice}\r\n          />\r\n          <br />\r\n          <button className=\"btn btn-primary\" onClick={editCourse}>\r\n            Submit\r\n          </button>\r\n          <br />\r\n          <br />\r\n          {message && (\r\n            <div className=\"alert alert-warning\" role=\"alert\">\r\n              {message}\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditCourseComponent;\r\n"]},"metadata":{},"sourceType":"module"}