{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\chunyu\\\\PC\\\\Desktop\\\\side_project_MERN_system\\\\client\\\\src\\\\components\\\\editCourse-component.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport CourseService from \"../services/course.service\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst EditCourseComponent = props => {\n  _s();\n\n  let {\n    currentUser,\n    setCurrentUser\n  } = props;\n  let {\n    courseId,\n    setCourseId\n  } = props;\n  let {\n    title,\n    setTitle\n  } = props;\n  let {\n    description,\n    setDescription\n  } = props;\n  let {\n    price,\n    setPrice\n  } = props;\n  let [message, setMessage] = useState(\"\");\n  const history = useHistory();\n\n  const handleTakeToLogin = () => {\n    history.push(\"/login\");\n  };\n\n  const handleChangeTitle = e => {\n    setTitle(e.target.value);\n  };\n\n  const handleChangeDesciption = e => {\n    setDescription(e.target.value);\n  };\n\n  const handleChangePrice = e => {\n    setPrice(e.target.value);\n  };\n\n  const editCourse = () => {\n    CourseService.edit(courseId, title, description, price).then(() => {\n      window.alert(\"Course has been edited.\");\n      history.push(\"/course\");\n    }).catch(error => {\n      console.log(error.response);\n      setMessage(error.response.data);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: \"3rem\"\n    },\n    children: [!currentUser && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"You must login first before posting a new course.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary btn-lg\",\n        onClick: handleTakeToLogin,\n        children: \"Take me to login page.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }, this), currentUser && currentUser.user.role !== \"mentor\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Only mentors can post new courses.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this), currentUser && currentUser.user.role == \"mentor\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        for: \"exampleforTitle\",\n        children: \"Title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"title\",\n        type: \"text\",\n        className: \"form-control\",\n        id: \"exampleforTitle\",\n        onChange: handleChangeTitle,\n        value: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        for: \"exampleforContent\",\n        children: \"Content\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        className: \"form-control\",\n        id: \"exampleforContent\",\n        \"aria-describedby\": \"emailHelp\",\n        name: \"content\",\n        onChange: handleChangeDesciption,\n        value: description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        for: \"exampleforPrice\",\n        children: \"Price\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"price\",\n        type: \"number\",\n        className: \"form-control\",\n        id: \"exampleforPrice\",\n        onChange: handleChangePrice,\n        value: price\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: editCourse,\n        children: \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-warning\",\n        role: \"alert\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n\n_s(EditCourseComponent, \"wY69IDJZqe0XptXYyUXms16a2nA=\", false, function () {\n  return [useHistory];\n});\n\n_c = EditCourseComponent;\nexport default EditCourseComponent;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditCourseComponent\");","map":{"version":3,"sources":["C:/Users/chunyu/PC/Desktop/side_project_MERN_system/client/src/components/editCourse-component.js"],"names":["React","useState","useHistory","CourseService","EditCourseComponent","props","currentUser","setCurrentUser","courseId","setCourseId","title","setTitle","description","setDescription","price","setPrice","message","setMessage","history","handleTakeToLogin","push","handleChangeTitle","e","target","value","handleChangeDesciption","handleChangePrice","editCourse","edit","then","window","alert","catch","error","console","log","response","data","padding","user","role"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport CourseService from \"../services/course.service\";\r\n\r\nconst EditCourseComponent = (props) => {\r\n  let { currentUser, setCurrentUser } = props;\r\n  let { courseId, setCourseId } = props;\r\n  let { title, setTitle } = props;\r\n  let { description, setDescription } = props;\r\n  let { price, setPrice } = props;\r\n\r\n  let [message, setMessage] = useState(\"\");\r\n  const history = useHistory();\r\n  const handleTakeToLogin = () => {\r\n    history.push(\"/login\");\r\n  };\r\n  const handleChangeTitle = (e) => {\r\n    setTitle(e.target.value);\r\n  };\r\n  const handleChangeDesciption = (e) => {\r\n    setDescription(e.target.value);\r\n  };\r\n  const handleChangePrice = (e) => {\r\n    setPrice(e.target.value);\r\n  };\r\n  const editCourse = () => {\r\n    CourseService.edit(courseId, title, description, price)\r\n      .then(() => {\r\n        window.alert(\"Course has been edited.\");\r\n        history.push(\"/course\");\r\n      })\r\n      .catch((error) => {\r\n        console.log(error.response);\r\n        setMessage(error.response.data);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: \"3rem\" }}>\r\n      {!currentUser && (\r\n        <div>\r\n          <p>You must login first before posting a new course.</p>\r\n          <button\r\n            className=\"btn btn-primary btn-lg\"\r\n            onClick={handleTakeToLogin}\r\n          >\r\n            Take me to login page.\r\n          </button>\r\n        </div>\r\n      )}\r\n      {currentUser && currentUser.user.role !== \"mentor\" && (\r\n        <div>\r\n          <p>Only mentors can post new courses.</p>\r\n        </div>\r\n      )}\r\n      {currentUser && currentUser.user.role == \"mentor\" && (\r\n        <div className=\"form-group\">\r\n          <label for=\"exampleforTitle\">Title</label>\r\n          <input\r\n            name=\"title\"\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            id=\"exampleforTitle\"\r\n            onChange={handleChangeTitle}\r\n            value={title}\r\n          />\r\n          <br />\r\n          <label for=\"exampleforContent\">Content</label>\r\n          <textarea\r\n            className=\"form-control\"\r\n            id=\"exampleforContent\"\r\n            aria-describedby=\"emailHelp\"\r\n            name=\"content\"\r\n            onChange={handleChangeDesciption}\r\n            value={description}\r\n          />\r\n          <br />\r\n          <label for=\"exampleforPrice\">Price</label>\r\n          <input\r\n            name=\"price\"\r\n            type=\"number\"\r\n            className=\"form-control\"\r\n            id=\"exampleforPrice\"\r\n            onChange={handleChangePrice}\r\n            value={price}\r\n          />\r\n          <br />\r\n          <button className=\"btn btn-primary\" onClick={editCourse}>\r\n            Edit\r\n          </button>\r\n          <br />\r\n          <br />\r\n          {message && (\r\n            <div className=\"alert alert-warning\" role=\"alert\">\r\n              {message}\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditCourseComponent;\r\n"]},"metadata":{},"sourceType":"module"}